/*! jquery.optgrouper 0.1.1 | (c) 2013 Andrew Duthie <andrew@andrewduthie.com> | MIT License */
(function(t){var o="optgrouper",r={sortGroups:function(t){return t},renderImmediately:!0},e=function(o,e){this.$el=t(o),this._options=e,this.options=t.extend({},r,e),this.options.renderImmediately&&this.renderGroups()};e.prototype.getOptions=function(){return this.$options===void 0&&(this.$options=t("option",this.$el)),this.$options},e.prototype.getGroups=function(){if(this.groups===void 0){for(var t=this.getOptions(),o=[],r=0,e=t.length;e>r;r++){var i=t[r].getAttribute("data-optgroup");i in o||(o[i]=[]),o[i].push(t[r])}this.groups=o}return this.groups},e.prototype.getSortedGroupLabels=function(){if(this.sortedGroupLabels===void 0){var t=[],o=this.getGroups();for(var r in o)o.hasOwnProperty(r)&&t.push(r);this.sortedGroupLabels=this.options.sortGroups(t)}return this.sortedGroupLabels},e.prototype.renderGroups=function(){for(var t=this.getGroups(),o=this.getSortedGroupLabels(),r=[],e=0,i=o.length;i>e;e++){var s=o[e],n=document.createElement("optgroup"),p=t[s];n.label=s;for(var u=0,h=p.length;h>u;u++)n.appendChild(p[u]);r.push(n.outerHTML)}this.$el.html(r.join())},window.Optgrouper=e,t.fn[o]=function(r){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new e(this,r))})}})(this.jQuery);
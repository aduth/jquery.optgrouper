/*! jquery.optgrouper 0.1.1 | (c) 2013 Andrew Duthie <andrew@andrewduthie.com> | MIT License */
(function(t){var o="optgrouper",i={sortGroups:function(t){return t},renderImmediately:!0},n=function(o,n){this.$el=t(o),this._options=n,this.options=t.extend({},i,n),this.options.renderImmediately&&this.renderGroups()};n.prototype.getOptions=function(){return this.$options===void 0&&(this.$options=t("option",this.$el)),this.$options},n.prototype.getGroups=function(){if(this.groups===void 0){var o=[];this.getOptions().each(function(){var i=t(this),n=i.data("optgroup");0>t.inArray(n,o)&&o.push(n)}),this.groups=o}return this.groups},n.prototype.renderGroups=function(){for(var o=this.getOptions(),i=this.options.sortGroups(this.getGroups()),n=[],r=0,s=i.length;s>r;r++){var p=i[r],e=t('<optgroup label="'+p+'"/>');o.filter('option[data-optgroup="'+p+'"]').appendTo(e),n.push(e)}this.$el.html(n)},window.Optgrouper=n,t.fn[o]=function(i){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new n(this,i))})}})(this.jQuery);